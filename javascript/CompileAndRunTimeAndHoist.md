##### 자바스크립트 의 컴파일과 런타임.

- 기초적인 내용인데도 가끔 이런류의 문제를 볼때마다, 어?? 한다. 기억력이 나쁜건지 머리가 돌인건지...
- 마침 인터넷에 좋은 예가 있어 써본다.

```
1 console.log(foo(10)); // 10
2 var foo = 'hello world';
3 function foo(num){
    return num;
  };
4 console.log(foo); // 'hello world'

```
- 뭐가 이상하다는 건가 싶다가도 살펴보면, 어? 라고 생각하게 된다.
  
1. 나쁜 예상
  - 런타임이 시작됬다. 1줄은 실행부. 일단 변수와 함수들부터 호이스팅?이었던가 할당 뭐 이런걸 해야할테니 패스.
  - 2줄 foo가 선언되고 string을 넣었군.
  - 3줄 오...foo 란 함수로 변수 foo를 덮어 씌웠구나. 그럼 이제부터 foo 는 함수다.
  - 다시 1줄. 함수니까 잘 실행 되었지. 좋아.
  - 4줄 어? foo는 함순데???
  
2. 실제.
  - 그래 난, 호이스팅을 글로만 배웠다.
  - 실제 변수는 할당 되기전(선언시) 최상단으로 호이스트 된다.(선언과 할당은 분리된다)
  - 또한 함수 선언문은 항시 자바스크립트 엔진 구동시 가장 최우선으로 해석 된다.
  - 즉, 컴파일을 시작한다. (재정렬의 표현이 맞을까) 
  - 1) foo는 최상단에 선언 되었다. 
  - 2) 'hello world' 는 런타임시에 할당이 되는것이며, 선언보다 늦다.
  - 3) foo 는 함수로 덮어씌워 진다.(!컴파일 타임에서 함수에 대한 참조가 할당된다! 함수 내부의 변수들은 런타임에 할당 된다)
  - 컴파일(정렬)이 끝났다. 이제 실제 차례 차례 런타임이다.
  - 4) 실행 > 함수 foo(10) 호출 > foo 를 string 으로 재할당. > 끗.
  - 이걸 코드로 보자면.
  ```
  var foo;
  foo = function(num){
    return num;
  }
  console.log(foo(10));
  foo = 'hello world';
  console.log(foo);
  ```
  - 이렇게 실행이 되는것이다.
  
- 잊지말자, 컴파일(파싱) 시에 정렬을 하게 된다.

  
  
  
